<!doctype html>
    <html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>あなたは麦わら海賊団のだれに似ていますか？？</title>
        <meta name="description" content="麦わら海賊団のメンバーを判別する画像認識アプリです">
        <link rel="icon" href="static/img/mark.png"> 
        <link rel="stylesheet" href="../static/stylesheet.css">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webcamjs/1.0.25/webcam.js"></script>
        <script type="text/javascript" src="../static/image.js"></script>

    </head>
    <body>

        
        <div style="position: relative;">
            <!-- SVG Goo filter from: https://css-tricks.com/gooey-effect/ -->
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
            <defs>
            <filter id="shadowed-goo">
      
      <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
      <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
      <feGaussianBlur in="goo" stdDeviation="3" result="shadow" />
      <feColorMatrix in="shadow" mode="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2" result="shadow" />
      <feOffset in="shadow" dx="1" dy="1" result="shadow" />
      <feBlend in2="shadow" in="goo" result="goo" />
      <feBlend in2="goo" in="SourceGraphic" result="mix" />
  </filter>
  <filter id="goo">
      <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
      <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
      <feBlend in2="goo" in="SourceGraphic" result="mix" />
  </filter>
</defs>
</svg>
</div>
        <div class="main" style="position:absolute; top:0; z-index:100; display: flex; flex-direction:column; justify-content:center; margin:0 auto; text-align:center;">
            <p><img src="static/img/allmembers.jpg" width="300" height="200" alt="ロゴです"></p>
            <h1 class="title">あなたは麦わら海賊団のだれに似ていますか？？</h1>


            <div id="camera"></div>
            <form method=post enctype=multipart/form-data>
                <input type="hidden" name="snapShot" id="snapShot">
                <input type="submit" value="撮影" onclick="takeSnapShot()">
            </form>
            
            {% if img_data1 %}
            <p><img src="{{img_data1}}" width="300" height="200" alt="ロゴです"></p>        
            <div class="answer" style="background-color: chartreuse;">{{answer1}}</div>
            {% endif %}
            {% if img_data2 %}
            <p><img src="{{img_data2}}" width="300" height="200" alt="ロゴです"></p>        
            <div class="answer" style="background-color: chartreuse;">{{answer2}}</div>
            {% endif %}
        </div>


        <canvas id="canvas" style="max-width:100%">Your browser doesn't support canvas</canvas>



    </body>


    <script>
        // CAMERA SETTINGS.
        Webcam.set({
            width: 300,
            height: 300,
            image_format: 'jpeg',
            jpeg_quality: 100
        });
        Webcam.attach('#camera');
    
        // SHOW THE SNAPSHOT.
        takeSnapShot = function () {
            Webcam.snap(function (data_uri) {
                //  document.getElementById('snapShot').innerHTML = 
                //  '<img src="' + data_uri + '" width="70px" height="50px" />';
                document.getElementById("snapShot").value = data_uri;
            });
        }
    </script>

    


    </html>